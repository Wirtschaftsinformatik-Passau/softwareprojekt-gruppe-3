{% extends "base.html" %}

{% block title %}Home für Verwaltungspersonal{% endblock %}
{% block content %}
    <br>
    <br>

    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link" href="/home-vp">Flugzeuge</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Flüge</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Log</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Reporting</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/accounts-anlegen">Accounts</a>
        </li>

    </ul>


    <div class="card" style="width: 63rem;">
        <div class="card-body">

            <ul class="nav nav-pills">
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="/flug-anlegen">Anlegen</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#">Bearbeiten</a>
                </li>
            </ul>

        <!-- Suchfeld  -->

            <div class="card" style="width: 60rem;height: 30rem">
                <div class="card-body">
                    <div class="container" style="width: 55rem; height: 30rem">
                        <div class="col-12 col-md-8" align="right">
                            <form action="" method="post" autocomplete="on">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <input type="text" class="form-control" name="tag" id="tag"
                                               placeholder="Flugnummer"/>
                                    </div>
                                    <div class="col-3">
                                        <input type="submit" value="Suchen" class="form-control btn btn-primary "
                                               name="">
                                    </div>
                                </div>
                            </form>
                        </div>

                        <br>


                        {% if fluege %}
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th scope="col">Flugnummer</th>
                                    <th scope="col">Von</th>
                                    <th scope="col">Nach</th>
                                    <th scope="col">Preis</th>
                                    <th scope="col">Datum</th>
                                    <th scope="col">Flugstatus</th>
                                    <th scope="col"></th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for rows in fluege %}
                                    <tr>
                                        <td>
                                            {{ rows.flugnummer }}
                                        </td>
                                        <td>
                                            {{ rows.abflugid }}
                                        </td>
                                        <td>
                                            {{ rows.zielid }}
                                        </td>
                                        <td>
                                            {{ rows.preis }}
                                        </td>
                                        <td>
                                            {{ rows.sollabflugzeit }}
                                        </td>
                                        <td>
                                            {{ rows.flugstatus }}
                                        </td>
                                        <td>
                                            <a href="{{ url_for('verwaltungspersonal_views.flug_bearbeiten', id=rows.flugzeugid) }}"
                                               data-toggle="modal" data-target="#updateModal"
                                               class="btn btn-warning">Bearbeiten</a>


                                            <a href="{{ url_for('verwaltungspersonal_views.flugzeug_inaktiv_setzen', id=rows.flugzeugid) }}"
                                               class="btn btn-danger">Inaktiv setzten</a>
                                        </td>
                                        </td>
                                    </tr>
                                {% endfor %}
                                </tbody>

                            </table>
                            <!-- Pagination bar -->

                            <nav aria-label="Page navigation example">
                                <ul class="pagination">
                                    {% if fluege.has_prev %}
                                        <li class="page-item"><a class="page-link"
                                                                 href="{{ url_for('verwaltungspersonal_views.flug_bearbeiten', page=fluege.prev_num) }}">Previous</a>
                                        </li>
                                    {% else %}
                                        <li class="page-item"><a class="page-link btn disabled" href="#">Previous</a>
                                        </li>
                                    {% endif %}

                                    {% for page in fluege.iter_pages(left_edge=3, right_edge=3) %}
                                        {% if page %}

                                            {% if page==fluege.page %}
                                                <li class="page-item active"><a class="page-link"
                                                                                href="{{ url_for('verwaltungspersonal_views.flug_bearbeiten', page=page) }}">{{ page }}</a>
                                                </li>
                                            {% else %}
                                                <li class="page-item"><a class="page-link"
                                                                         href="{{ url_for('verwaltungspersonal_views.flug_bearbeiten', page=page) }}">{{ page }}</a>
                                                </li>
                                            {% endif %}

                                        {% else %}
                                            <li class="page-item disabled" id="example_ellipsis"><a href="#"
                                                                                                    class="page-link">…</a>
                                            </li>
                                        {% endif %}
                                    {% endfor %}

                                    {% if fluege.has_next %}
                                        <li class="page-item"><a class="page-link"
                                                                 href="{{ url_for('verwaltungspersonal_views.flug_bearbeiten', page=fluege.next_num) }}">Next</a>
                                        </li>
                                    {% else %}
                                        <li class="page-item"><a class="page-link btn disabled" href="#">Next</a></li>
                                    {% endif %}

                                </ul>
                            </nav>
                        {% endif %}

                    </div>
                </div>

            </div>

        </div>
    </div>


{% endblock %}